<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>TechAcademy メンタリングスケジュール登録</title>
	<link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.css">
	<link rel="stylesheet" href="./node_modules/font-awesome/css/font-awesome.css">
	<link rel="stylesheet" href="./bootstrap-datepicker-master/dist/css/bootstrap-datepicker.min.css">
	<script>
	window.$ = window.jQuery = require('./node_modules/jquery/dist/jquery.js');
	</script>
	<script src="./node_modules/bootstrap/dist/js/bootstrap.js"></script>
	<script src="./bootstrap-datepicker-master/js/bootstrap-datepicker.js"></script>
	<script src="./bootstrap-datepicker-master/js/locales/bootstrap-datepicker.ja.js"></script>
	<script src="./node_modules/gasparesganga-jquery-loading-overlay/src/loadingoverlay.min.js"></script>
	<script src="./app/functions.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
  .rotate-anime {
    animation: rotate-anime 1s linear infinite;
  }
  @keyframes rotate-anime {
    0%  {transform: rotate(0);}
    100%  {transform: rotate(360deg);}
  }
  </style>
</head>
<body class="p-3" style="height: 100%;">
	<main style="min-height: 100%">
		<div class="container" style="display: none;">
			<ul class="nav nav-tabs nav-justified" role="tablist">
			  <li class="nav-item">
			    <a class="nav-link active" id="mantoring-tab" data-toggle="tab" href="#mentoring" role="tab" aria-controls="mentoring" aria-selected="true">メンタリング日程登録</a>
			  </li>
			  <li class="nav-item">
			    <a class="nav-link" id="shift-tab" data-toggle="tab" href="#shift" role="tab" aria-controls="shift" aria-selected="false">シフト登録</a>
			  </li>
			</ul>

			<div class="tab-content" id="mainContent">
				<div class="tab-pane fade show active" id="mentoring" role="tabpanel" aria-labelledby="mentoring-tab">
					<div class="row p-3">
						<div class="col-sm-9">
							<h1>メンタリングスケジュール登録</h1>
						</div>
						<div class="col-sm-3 text-right">
							<span class="familyName"></span> <span class="givenName"></span>
							<span class="iconImg"></span>
						</div>
					</div>

					<hr>

					<form id="schedule">
						<div class="form-group row">
							<div class="col-sm-2">
								<label for="course" class="col-form-label">コース</label>
							</div>
							<div class="col-sm-10">
								<select name="course" id="course" class="form-control">
								</select>
							</div>
						</div>

						<div class="form-group row justify-content-end">
							<div class="col-sm-10 form-check-inline">
								<input type="checkbox" name="extra" id="extra" value="extra" class="form-check-input">
								<label for="extra" class="form-check-label">追加サポート</label>
							</div>
						</div>

						<div class="form-group row">
							<div class="col-sm-2">
								<label for="week" class="col-form-label">プラン</label>
							</div>
							<div class="col-sm-10">
								<div class="form-inline">
									<div class="input-group">
										<input type="number" name="week" id="week" class="form-control" min="4" value="4">
										<div class="input-group-append">
											<span class="input-group-text input-group-addon">
												週間
											</span>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group row">
							<div class="col-sm-2">
								<label for="name" class="col-form-label">受講生名</label>
							</div>
							<div class="col-sm-10">
								<input type="text" name="name" id="name" class="form-control">
							</div>
						</div>

						<hr>

						<div class="form-group row datepicker">
							<div class="col-sm-2">
								<label class="control-label">受講開始日</label>
							</div>
							<div class="col-sm-10">
								<div class="form-inline">
									<div class="input-group date">
										<input type="text" name="start" class="form-control" value="">
										<div class="input-group-append">
											<span class="input-group-text input-group-addon">
												<i class="fa fa-calendar"></i>
											</span>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group row datepicker">
							<div class="col-sm-2">
								<label class="control-label">一回目</label>
							</div>
							<div class="col-sm-3">
								<select name="first" id="first" class="form-control form-control-sm">
									<option value="1">月曜</option>
									<option value="2">火曜</option>
									<option value="3">水曜</option>
									<option value="4">木曜</option>
									<option value="5">金曜</option>
									<option value="6">土曜</option>
									<option value="0">日曜</option>
								</select>
							</div>
							<div class="col-sm-5">
								<div class="form-inline">
									<div class="input-group">
			              <select name="firstHour" id="firstHour" class="form-control form-control-sm">
			    						<option value="00">00</option>
			    						<option value="01">01</option>
			    						<option value="02">02</option>
			    						<option value="03">03</option>
			    						<option value="04">04</option>
			    						<option value="05">05</option>
			    						<option value="06">06</option>
			                <option value="07">07</option>
			    						<option value="08">08</option>
			    						<option value="09">09</option>
			                <option value="10">10</option>
			    						<option value="11">11</option>
			    						<option value="12">12</option>
			    						<option value="13" selected>13</option>
			    						<option value="14">14</option>
			    						<option value="15">15</option>
			    						<option value="16">16</option>
			                <option value="17">17</option>
			    						<option value="18">18</option>
			    						<option value="19">19</option>
			                <option value="20">20</option>
			    						<option value="21">21</option>
			    						<option value="22">22</option>
			    						<option value="23">23</option>
			    					</select>
			              <span>&nbsp;:&nbsp;</span>
			              <select name="firstMinutes" id="firstMinutes" class="form-control form-control-sm">
			    						<option value="00" selected>00</option>
			    						<option value="30">30</option>
			    					</select>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group row datepicker" id="secondDiv">
							<div class="col-sm-2">
								<label class="control-label">二回目</label>
							</div>
							<div class="col-sm-3">
								<select name="second" id="second" class="form-control form-control-sm">
									<option value="1">月曜</option>
									<option value="2">火曜</option>
									<option value="3">水曜</option>
									<option value="4">木曜</option>
									<option value="5">金曜</option>
									<option value="6">土曜</option>
									<option value="0">日曜</option>
								</select>
							</div>
							<div class="col-sm-5">
								<div class="form-inline">
									<div class="input-group">
			              <select name="secondHour" id="secondHour" class="form-control form-control-sm">
			    						<option value="00">00</option>
			    						<option value="01">01</option>
			    						<option value="02">02</option>
			    						<option value="03">03</option>
			    						<option value="04">04</option>
			    						<option value="05">05</option>
			    						<option value="06">06</option>
			                <option value="07">07</option>
			    						<option value="08">08</option>
			    						<option value="09">09</option>
			                <option value="10">10</option>
			    						<option value="11">11</option>
			    						<option value="12">12</option>
			    						<option value="13" selected>13</option>
			    						<option value="14">14</option>
			    						<option value="15">15</option>
			    						<option value="16">16</option>
			                <option value="17">17</option>
			    						<option value="18">18</option>
			    						<option value="19">19</option>
			                <option value="20">20</option>
			    						<option value="21">21</option>
			    						<option value="22">22</option>
			    						<option value="23">23</option>
			    					</select>
			              <span>&nbsp;:&nbsp;</span>
			              <select name="secondMinutes" id="secondMinutes" class="form-control form-control-sm">
			    						<option value="00" selected>00</option>
			    						<option value="30">30</option>
			    					</select>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group row justify-content-end">
							<div class="col-sm-3 text-right">
								<button type="button" id="dataapply" class="btn btn-primary"><i class="fa fa-spinner rotate-anime" aria-hidden="true" style="display: none;"></i>スケジュール生成</button>
							</div>
						</div>
					</form>

					<hr>

					<table class="table table-striped">
						<thead class="thead-dark">
							<tr>
								<th scope="col">#</th>
								<th scope="col">スケジュール名</th>
								<th scope="col">日付</th>
								<th scope="col">曜日</th>
								<th scope="col">開始</th>
								<th scope="col">終了</th>
							</tr>
						</thead>
						<tbody id="tablebody">
						</tbody>
					</table>

					<form id="submitData">
						<div class="form-group row justify-content-end">
								<input type="hidden" id="data" value="">
							<div class="col-sm-3">
								<label for="calendar" class="control-label">登録先カレンダー選択</label>
							</div>
							<div class="col-sm-6">
								<select name="calendar" id="calendar" class="form-control">
								</select>
							</div>
							<div class="col-sm-3 text-right">
								<button type="button" id="applydata" class="btn btn-primary" disabled><i class="fa fa-spinner rotate-anime" aria-hidden="true" style="display: none;"></i>登録</button>
							</div>
						</div>
					</form>
				</div>

				<div class="tab-pane fade" id="shift" role="tabpanel" aria-labelledby="shift-tab">
					<div class="row p-3">
						<div class="col-sm-9">
							<h1>シフトスケジュール登録</h1>
						</div>
						<div class="col-sm-3 text-right">
							<span class="familyName"></span> <span class="givenName"></span>
							<span class="iconImg"></span>
						</div>
					</div>
					<hr>

					<div class="row">
						<div class="col-sm-12">
							<form>
								<div class="form-group row justify-content-end">
									<div class="col-sm-2">
										<select id="shiftYear" class="form-control">
										</select>
										年
									</div>
									<div class="col-sm-2 ">
										<select id="shiftMonth" class="form-control">
										</select>
										月
									</div>
								</div>
							</form>

						</div>
					</div>

					<div class="row">
						<table class="table table-bordered table-light">
						  <thead>
						    <tr>
						      <th scope="col">時間帯</th>
						      <th scope="col">月曜</th>
						      <th scope="col">火曜</th>
						      <th scope="col">水曜</th>
									<th scope="col">木曜</th>
						      <th scope="col">金曜</th>
						      <th scope="col">土曜</th>
									<th scope="col">日曜</th>
						    </tr>
						  </thead>
						  <tbody>
						    <tr>
						      <th scope="row">前半</th>
						      <td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="mon1-1" id="mon1-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="tue2-1" id="tue2-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="wed3-1" id="wed3-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="thu4-1" id="thu4-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="fri5-1" id="fri5-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="sat6-1" id="sat6-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="sun0-1" id="sun0-1"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
						    </tr>
						    <tr>
									<th scope="row">後半</th>
						      <td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="mon1-2" id="mon1-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="tue2-2" id="tue2-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="wed3-2" id="wed3-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="thu4-2" id="thu4-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="fri5-2" id="fri5-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="sat6-2" id="sat6-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
									<td>
										<div class="btn-group-toggle" data-toggle="buttons">
										  <label class="btn btn-info">
										    <input type="checkbox" autocomplete="off" class="flagCheckbox" name="shift" value="sun0-2" id="sun0-2"><span class="flagText">休み</span>
										  </label>
										</div>
									</td>
						    </tr>
						  </tbody>
						</table>
					</div>

					<hr>

					<div class="row">
						<div class="col-sm-12">
							<form id="submitShiftData">
								<div class="form-group row justify-content-end">
									<div class="col-sm-3">
										<label for="calendar" class="control-label">登録先カレンダー選択</label>
									</div>
									<div class="col-sm-6">
										<select name="calendar" id="shiftCalendar" class="form-control">
										</select>
									</div>
									<div class="col-sm-3 text-right">
										<button type="button" id="applyShiftData" class="btn btn-primary"><i class="fa fa-spinner rotate-anime" aria-hidden="true" style="display: none;"></i>登録</button>
									</div>
								</div>
							</form>

						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

  <!-- modal -->
  <div class="modal fade" id="modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">以下のスケジュールが登録されました</h4>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        </div>
        <div class="modal-body" id="modalMessage">
          <!-- ここにモーダルメッセージ -->
        </div>
        <div class="modal-footer">
					<div class="alert alert-warning" role="alert">
						処理の都合上、正常に登録された物が欠落して表示される場合がありますので、GoogleCalendarでも確認して下さい
					</div>
          <button type="button" class="btn btn-success" data-dismiss="modal">OK</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

	<!-- modal -->
  <div class="modal fade" id="tokenModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">認証コード入力</h4>
        </div>
        <div class="modal-body" id="tokenModalMessage">
          <!-- ここにモーダルメッセージ -->
					<p>ブラウザで開いた画面でGoogle認証し、最後に表示されたコードをコピーして下さい。</p>
					<input type="text" name="code" id="code" class="form-control">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" id="tokenSubmit">OK</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

</body>
</html>
